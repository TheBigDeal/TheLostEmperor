#
#	Credit to the Kaiserreich team
#

# checks whether the country in scope has the same government as ROOT (the country running the event/focus)
has_same_government_as_ROOT = {
	OR = {
		AND = {
			has_government = communist
			ROOT = { has_government = communist }
		}
		AND = {
			has_government = socialist
			ROOT = { has_government = socialist }
		}
#		AND = {
#			has_government = radical_socialist
#			ROOT = { has_government = radical_socialist }
#	}
		AND = {
			has_government = social_democrat
			ROOT = { has_government = social_democrat }
		}
		AND = {
			has_government = social_liberal
			ROOT = { has_government = social_liberal }
		}
		AND = {
			has_government = market_liberal
			ROOT = { has_government = market_liberal }
		}
		AND = {
			has_government = social_conservative
			ROOT = { has_government = social_conservative }
		}
		AND = {
			has_government = authoritarian_democrat
			ROOT = { has_government = authoritarian_democrat }
		}
		AND = {
			has_government = despotism
			ROOT = { has_government = despotism }
		}
		AND = {
			has_government = fascism
			ROOT = { has_government = fascism }
		}
	}
}

# checks for these three government types for the country in scope
has_socialist_government = {
	OR = {
		has_government = communist
		has_government = socialist
#		has_government = radical_socialist
	}
}

# checks for these four government types for the country in scope
has_elected_government = {
	OR = {
		has_government = social_democrat
		has_government = social_liberal
		has_government = market_liberal
		has_government = social_conservative
	}
}

# checks for these five government types for the country in scope
has_democratic_government = {
	OR = {
		has_government = social_democrat
		has_government = social_liberal
		has_government = market_liberal
		has_government = social_conservative
		has_government = authoritarian_democrat
	}
}

# checks for these two government types for the country in scope
has_authoritarian_government = {
	OR = {
		has_government = authoritarian_democrat
		has_government = despotism
		has_government = fascism
	}
}

# checks for these two government types for the country in scope
has_dictatorship_government = {
	OR = {
		has_government = despotism
		has_government = fascism
	}
}

# checks whether the country in scope has the same government type as ROOT (the country running the event/focus)
# note that it's not the exact same government - just the general type, as above
same_government_type_as_ROOT = {
	OR = {
		AND = {
			has_socialist_government = yes
			ROOT = { has_socialist_government = yes }
		}
		AND = {
			has_democratic_government = yes
			ROOT = { has_democratic_government = yes }
		}
		AND = {
			has_dictatorship_government = yes
			ROOT = { has_dictatorship_government = yes }
		}
	}
}

### CHECK STATES IN CONTINENT ###
# fire in STATE scope

is_in_asia = {
	is_on_continent = asia
}

is_in_europe = {
	is_on_continent = europe
}

is_in_africa = {
	is_on_continent = africa
}

is_in_north_america = {
	is_on_continent = north_america
}

is_in_south_america = {
	is_on_continent = south_america
}

is_in_middle_east = {
	is_on_continent = middle_east
}

is_in_australia = {
	is_on_continent = australia
}

# the following triggers will check if the country in scope is on a particular continent
# note that these are continents as per the game - asia and middle-east are considered separate continents

# checks whether the country in scope is in the same continent as ROOT (the country running the event)
same_continent_as_ROOT = {
	OR = {
		AND = {
			is_in_asia = yes
			ROOT = { is_in_asia = yes }
		}
		AND = {
			is_in_europe = yes
			ROOT = { is_in_europe = yes }
		}
		AND = {
			is_in_africa = yes
			ROOT = { is_in_africa = yes }
		}
		AND = {
			is_in_north_america = yes
			ROOT = { is_in_north_america = yes }
		}
		AND = {
			is_in_south_america = yes
			ROOT = { is_in_south_america = yes }
		}
		AND = {
			is_in_middle_east = yes
			ROOT = { is_in_middle_east = yes }
		}
		AND = {
			is_in_australia = yes
			ROOT = { is_in_australia = yes }
		}
	}
}

# checks whether the state in scope is on the same continent as ROOT (the country running the event)
state_same_continent_as_ROOT = {
	OR = {
		AND = {
			is_on_continent = asia
			ROOT = { is_in_asia = yes }
		}
		AND = {
			is_on_continent = europe
			ROOT = { is_in_europe = yes }
		}
		AND = {
			is_on_continent = africa
			ROOT = { is_in_africa = yes }
		}
		AND = {
			is_on_continent = north_america
			ROOT = { is_in_north_america = yes }
		}
		AND = {
			is_on_continent = south_america
			ROOT = { is_in_south_america = yes }
		}
		AND = {
			is_on_continent = middle_east
			ROOT = { is_in_middle_east = yes }
		}
		AND = {
			is_on_continent = australia
			ROOT = { is_in_australia = yes }
		}
	}
}

### world news triggers
# fix these fucking scopes

#wants_world_news = {
#	OR = {
#		has_global_flag = NEWS_ALL
#		has_global_flag = NEWS_SOME
#	}
#}
#
#regional_europe_news = {
#	OR = {
#		has_global_flag = NEWS_ALL
#		is_in_europe = yes
#		any_neighbor_country = { is_in_europe = yes }
#	}
#}
#
#regional_asia_news = {
#	OR = {
#		has_global_flag = NEWS_ALL
#		is_in_asia = yes
#		any_neighbor_country = { is_in_asia = yes }
#		is_in_australia = yes
#	}
#}
#
#regional_africa_news = {
#	OR = {
#		has_global_flag = NEWS_ALL
#		is_in_africa = yes
#		any_neighbor_country = { is_in_africa = yes }
#	}
#}
#
#regional_north_america_news = {
#	OR = {
#		has_global_flag = NEWS_ALL
#		is_in_north_america = yes
#		any_neighbor_country = { is_in_north_america = yes }
#	}
#}
#
#regional_south_america_news = {
#	OR = {
#		has_global_flag = NEWS_ALL
#		is_in_south_america = yes
#		any_neighbor_country = { is_in_south_america = yes }
#	}
#}
#
#regional_middle_east_news = {
#	OR = {
#		has_global_flag = NEWS_ALL
#		is_in_middle_east = yes
#		any_neighbor_country = { is_in_middle_east = yes }
#	}
#}

is_nuclear_armed = {
	OR = {
		original_tag = GER
		original_tag = USA
		original_tag = JAP
		original_tag = BRG
	}
}
is_in_OFN = {
	is_in_faction_with = USA
}
is_in_UnityPakt = {
	is_in_faction_with = GER
}
is_in_Sphere = {
	is_in_faction_with = JAP
}
is_in_Indian_Alliance = {
	is_in_faction_with = RAJ
}
is_indian_nation = {
	OR = {
		tag = RAJ
		tag = INC
		tag = INF
		tag = PAK
		tag = BEN
		tag = SHK
		tag = SRI
		tag = INU
		tag = MLD
		tag = RAO
		tag = MER 
		tag = TIG
		tag = KAS
		tag = RSS
		#tag = BEN 
	}
}
is_indian_nation_icw = {
	OR = {
		tag = RAJ
		tag = INC
		tag = INF
		tag = PAK
		tag = BEN
		tag = SHK
		tag = SRI
		tag = INU
		tag = MLD
		tag = RAO
		tag = MER 
		tag = TIG
		tag = KAS
		tag = RSS
		#tag = BEN 
	}
	has_global_flag = ICW_yes
	has_war = yes 
}
is_indian_major = {
	OR = {
		tag = RAJ
		tag = INC
		tag = INF
		#tag = BEN 
	}
}
is_russian_nation = {
	OR = {
		original_tag = VTY
		original_tag = WRS
		original_tag = MIR
		original_tag = UKH
		original_tag = NIK
		original_tag = VOL
		original_tag = KST
		original_tag = GAY
		original_tag = KIR
		original_tag = KZA
		original_tag = CHU
		original_tag = MAR
		original_tag = PRM
		original_tag = TAR
		original_tag = SAM
		original_tag = ORE
		original_tag = DON
		original_tag = ORS
		original_tag = ARL
		original_tag = AKT
		original_tag = KRK
		original_tag = KAZ
		original_tag = DER
		original_tag = KOK
		original_tag = SEM
		original_tag = OMS
		original_tag = ISH
		original_tag = TOB
		original_tag = UDM
		original_tag = KOM
		original_tag = VOR
		original_tag = PAV
		original_tag = ERS
		original_tag = ALT
		original_tag = KEM
		original_tag = MIR
		original_tag = KHA
		original_tag = SAH
		original_tag = SVO
		original_tag = MON
		original_tag = IRK
		original_tag = UIL
		original_tag = BRY
		original_tag = KRE
		original_tag = WCH
		original_tag = AMR
		original_tag = SEV
		original_tag = YAK
		original_tag = MAG
		original_tag = URL
		original_tag = RSB
		original_tag = NCH
		original_tag = ESB
		original_tag = CKT
		original_tag = KMC
		original_tag = BAS
	}
}

is_west_russian_nation = {
	OR = {
		original_tag = WRS
		original_tag = FAV
		original_tag = UKH
		original_tag = VTY
		original_tag = KOM
		original_tag = NIK
		original_tag = VOR
		original_tag = MIR
	}
}

is_central_russian_nation = {
	OR = {
		original_tag = WRS
		original_tag = FAV
		original_tag = UKH
		original_tag = VTY
		original_tag = KOM
		original_tag = NIK
		original_tag = VOR
		original_tag = MIR
		original_tag = SAM
		original_tag = CHU
		original_tag = KST
		original_tag = URL
		original_tag = ORE
		original_tag = VOL
		original_tag = KZA
		original_tag = KIR
		original_tag = MAR
		original_tag = TAR
		original_tag = PRM
		original_tag = GAY
	}
}

is_west_siberian_nation = {
	OR = {
		original_tag = OMS
		original_tag = KOK
		original_tag = DER
		original_tag = FAV
		original_tag = UDM
		original_tag = TOB
		original_tag = ISH
	}
}

is_central_siberian_nation = {
	OR = {
		original_tag = ERS
		original_tag = TAN
		original_tag = KHA
		original_tag = SAH
		original_tag = ALT
		original_tag = SEM
		original_tag = KEM
		original_tag = PAV
		original_tag = SVO
	}
}
is_far_eastern_nation = {
	OR = {
		original_tag = MAG
		original_tag = KMC
		original_tag = UIL
		original_tag = IRK
		original_tag = SEV
		original_tag = BRY
		original_tag = WCH
		original_tag = AMR
	}
}

is_kazakh_nation = {
	OR = {
		original_tag = KAZ
		original_tag = ARL
		original_tag = AKT
		original_tag = DON
		original_tag = KOK
		original_tag = DER
		original_tag = SEM
	}
}

is_tatar_nation = {
	OR = {
		original_tag = TAR
		original_tag = KZA
	}
}

is_southern_urals_nation = {
	OR = {
		original_tag = ORE
		original_tag = URL
		original_tag = BAS
		original_tag = ORS
	}
}

can_form_southern_urals = {
	AND = {
		owns_state = 754
		owns_state = 582
		owns_state = 846
		owns_state = 847
		owns_state = 848
		owns_state = 849
		owns_state = 652
		owns_state = 852
	}
}
can_form_west_russia = {
	AND = {
		owns_state = 214
		owns_state = 861
		owns_state = 860
		owns_state = 862
		owns_state = 870
		owns_state = 868
		owns_state = 397
		owns_state = 262
		owns_state = 869
		owns_state = 857
		owns_state = 351
		owns_state = 856
		owns_state = 867
		owns_state = 855
		owns_state = 252
		owns_state = 854
		owns_state = 256
		owns_state = 250
		owns_state = 400
		owns_state = 752
		owns_state = 753
		owns_state = 864
		owns_state = 398
		owns_state = 865
		owns_state = 866
		owns_state = 399
		owns_state = 249
		owns_state = 853
		owns_state = 651
		owns_state = 851
		owns_state = 850
		owns_state = 251
		owns_state = 755
	}
}

can_form_west_sibera = {
	AND = {
		owns_state = 572
		owns_state = 579
		owns_state = 403
		owns_state = 571
		owns_state = 653
		owns_state = 573
		owns_state = 871
		owns_state = 580
	}
}

can_form_central_sibera = {
	AND = {
		owns_state = 40
		owns_state = 516
		owns_state = 568
		owns_state = 569
		owns_state = 570
		owns_state = 576
		owns_state = 577
		owns_state = 578
		owns_state = 654
		owns_state = 757
		owns_state = 758
		owns_state = 887
		owns_state = 888

	}
}

can_form_far_east = {
	AND = {
		owns_state = 561
		owns_state = 562
		owns_state = 563
		owns_state = 564
		owns_state = 565
		owns_state = 566
		owns_state = 567
		owns_state = 574
		owns_state = 575
		owns_state = 637
		owns_state = 644
		owns_state = 759
		owns_state = 760
		owns_state = 761
		owns_state = 886
		owns_state = 889
		owns_state = 890
		owns_state = 891
	}
}

can_form_kazakhstan = {
	AND = {
		owns_state = 407
		owns_state = 406
		owns_state = 587
		owns_state = 402
		owns_state = 404
		owns_state = 589
	}
}

can_form_tatarstan = {
	AND = {
		owns_state = 854
		owns_state = 256
		owns_state = 249
		owns_state = 853
		owns_state = 651
	}
}

is_wasteland = {
	OR = {
		original_tag = RSB
		original_tag = NCH
		original_tag = ESB
		original_tag = CKT
		original_tag = KMC
	}
}

is_iberian_nation = {
	#custom_trigger_tooltip = is_iberian_nation_tt
	hidden_trigger = {
	OR = {
		original_tag = IBR
		original_tag = SPR
		original_tag = SPA
		original_tag = SPS
		original_tag = CTL
		original_tag = CNT
		original_tag = BSQ
		original_tag = FSR
		original_tag = GNS
		original_tag = ETA
		original_tag = TBA
		original_tag = POR
		original_tag = PRT
		original_tag = PPR
		original_tag = RPP
		original_tag = FML
		original_tag = GIB
		original_tag = ALG
		original_tag = RIF
		original_tag = MOR
		original_tag = WAI		
		original_tag = GAL
		original_tag = KBY
		original_tag = MAU
	}
	}
}

has_war_with_iberian_nation = {
	#custom_trigger_tooltip = is_iberian_nation_tt
	hidden_trigger = {
	OR = {
		has_war_with = IBR
		has_war_with = SPR
		has_war_with = SPA
		has_war_with = SPS
		has_war_with = CTL
		has_war_with = CNT
		has_war_with = BSQ
		has_war_with = FSR
		has_war_with = GNS
		has_war_with = ETA
		has_war_with = TBA
		has_war_with = POR
		has_war_with = PRT
		has_war_with = PPR
		has_war_with = RPP
		has_war_with = FML
		has_war_with = GIB
		has_war_with = ALG
		has_war_with = RIF
		has_war_with = MOR
		has_war_with = WAI		
		has_war_with = GAL
		has_war_with = KBY
		has_war_with = MAU
		has_war_with = SAH
	}
	}
}

has_war_with_iberian_major = {
	#custom_trigger_tooltip = is_iberian_nation_tt
	hidden_trigger = {
	OR = {
		has_war_with = IBR
		has_war_with = SPR
		has_war_with = SPA
		has_war_with = SPS
		has_war_with = FSR
		has_war_with = GNS
		has_war_with = POR
		has_war_with = PRT
		has_war_with = PPR
		has_war_with = RPP
		has_war_with = MOR
		has_war_with = WAI		
	}
	}
}

owns_enemy_state = {
	any_state = {
		AND = {
			NOT = {
				is_owned_by = ROOT
			}
			is_controlled_by = ROOT
		}
	}
}

is_iberian_major = {
	OR = {
		original_tag = IBR
		original_tag = SPR
		original_tag = SPA
		original_tag = SPS
		original_tag = FSR
		original_tag = GNS
		original_tag = POR
		original_tag = PRT
		original_tag = PPR
		original_tag = RPP
		original_tag = MOR
		original_tag = WAI		
	}
}

is_iberian_minor = {
	OR = {
		original_tag = CTL
		original_tag = CNT
		original_tag = BSQ
		original_tag = ETA
		original_tag = TBA
		original_tag = FML
		original_tag = GIB
		original_tag = ALG
		original_tag = RIF
		original_tag = GAL
		original_tag = KBY
		original_tag = MAU
		original_tag = SAH
	}
}

claims_catalan_region = {
	OR = {
		1084 = {
			is_claimed_by = ROOT
		}
		986 = {
			is_claimed_by = ROOT
		}
		165 = {
			is_claimed_by = ROOT
		}
	}
}

claims_basque_region = {
	OR = {
		1065 = {
			is_claimed_by = ROOT
		}
		984 = {
			is_claimed_by = ROOT
		}
	}
}

claims_galician_region = {
	OR = {
		171 = {
			is_claimed_by = ROOT
		}
		982 = {
			is_claimed_by = ROOT
		}
	}
}

claims_andalusian_region = {
	OR = {
		169 = {
			is_claimed_by = ROOT
		}
		173 = {
			is_claimed_by = ROOT
		}
		1075 = {
			is_claimed_by = ROOT
		}
		988 = {
			is_claimed_by = ROOT
		}
		1074 = {
			is_claimed_by = ROOT
		}
		1073 = {
			is_claimed_by = ROOT
		}
		168 = {
			is_claimed_by = ROOT
		}
	}
}

claims_castillean_region = {
	OR = {
		166 = {
			is_claimed_by = ROOT
		}
		175 = {
			is_claimed_by = ROOT
		}
		170 = {
			is_claimed_by = ROOT
		}
		1068 = {
			is_claimed_by = ROOT
		}
		174 = {
			is_claimed_by = ROOT
		}
		1067 = {
			is_claimed_by = ROOT
		}
		172 = {
			is_claimed_by = ROOT
		}
		176 = {
			is_claimed_by = ROOT
		}
		1066 = {
			is_claimed_by = ROOT
		}
		985 = {
			is_claimed_by = ROOT
		}
	}
}

claims_nportuguese_region = {
	OR = {
		180 = {
			is_claimed_by = ROOT
		}
		1069 = {
			is_claimed_by = ROOT
		}
		1070 = {
			is_claimed_by = ROOT
		}
		181 = {
			is_claimed_by = ROOT
		}
	}
}

claims_sportuguese_region = {
	OR = {
		1072 = {
			is_claimed_by = ROOT
		}
		112 = {
			is_claimed_by = ROOT
		}
		179 = {
			is_claimed_by = ROOT
		}
		1076 = {
			is_claimed_by = ROOT
		}
	}
}

claims_valencian_region = {
	OR = {
		167 = {
			is_claimed_by = ROOT
		}
		987 = {
			is_claimed_by = ROOT
		}
	}
}

claims_madrid_region = {
	OR = {
		41 = {
			is_claimed_by = ROOT
		}
	}
}

has_ROOT_at_least_1_div_in_current_state_scope = {
	custom_trigger_tooltip = {
		tooltip = at_least_one_division_in_state
		ROOT = { divisions_in_state = { state = PREV size > 0 } }
	}
}



has_far_left_ruling_party = {
	OR = {
		has_government = communist
		has_government = socialist
	}
}

has_far_right_ruling_party = {
	OR = {
		has_government = fascism
		has_government = national_socialism
		has_government = ultranational_socialism
	}
}

econ_can_add_modifier_military = {
	NOT = {
		OR = {
			has_idea = military_budget_cuts
			has_idea = military_budget_boost
			has_idea = military_budget_cuts_heavy
			has_idea = bankrupt_military
		}
	}
}

econ_can_add_modifier_civilian = {
	NOT = {
		OR = {
			has_idea = civilian_budget_cuts
			has_idea = civilian_budget_boost
			has_idea = civilian_budget_cuts_heavy
			has_idea = bankrupt_civilian
		}
	}
}

econ_can_use_economy_system = {
	NOT = {
		is_warlord = yes
	}
}

is_warlord = {

	has_country_flag = is_warlord
	#bottom is too inefficient to constantly check

	#OR = {
	#	is_in_array = {
	#		array = global.russian_warlords
	#		value = THIS
	#	}
	#	is_in_array = {
	#		array = global.african_warlords
	#		value = THIS
	#	}
	#	is_in_array = {
	#		array = global.chinese_warlords
	#		value = THIS
	#	}
	#}
}

is_exempt_from_division_limit = {
	OR = {
		has_war = yes
		any_neighbor_country = { #any neighboring country is over the limit, and not at war with 
			set_temp_variable = {
				upper_limit = num_of_factories
			}
			multiply_temp_variable = {
				upper_limit = 1.15
			}

			NOT = { 
				has_war_with = PREV
				has_war = yes
			}
			check_variable = {
				num_divisions > upper_limit
			}
		}
	}
}

has_custom_division_templates = {
	OR = {
		original_tag = USA
	}
}

